The Incredible Speech KeyboardThis project is a Linux equivalent of Google Keyboard's voice typing for Android, but built as a standalone GTKMM-based virtual keyboard. It is designed to provide a seamless and intuitive typing experience with a unique twist: integrated, real-time speech-to-text functionality. With just a click of a button, users can dictate their thoughts, and the transcribed text will be sent directly to the active application.This project aims to demonstrate how a simple virtual keyboard can be enhanced with powerful voice recognition capabilities, providing an accessible and efficient alternative to traditional typing.Key FeaturesReal-Time Speech-to-Text: Uses the Vosk API to convert spoken language into text on the fly.Virtual Keyboard UI: A graphical interface built with GTKMM for standard keyboard input.System-Wide Integration: Leverages X11 to send keystrokes and text to any focused application on the desktop.Simple Activation: Just a single button click to start or stop the voice recognition service.Project VersionsThis repository contains two main versions of the project, each on its own branch:main branch: This is the offline-first version that uses the Vosk API. It is completely self-contained and does not require an internet connection after the model is downloaded.online-mode branch: This version is in development and uses an online speech-to-text API for transcription. It is designed for those who want to experiment with cloud-based services.DependenciesTo build and run this project, you need the following dependencies installed on your Linux system:C++ Compiler: GCC (version 11.4.0 or newer is recommended)GTKMM 3.0: The C++ wrapper for GTK+ 3.0.Vosk API: The open-source offline speech recognition toolkit. You must also download a compatible Vosk language model.ALSA: Advanced Linux Sound Architecture for audio input.X11 Development Libraries: Specifically libxtst-dev for keyboard simulation.Getting Started: Step-by-StepFollow these steps to set up and run the project for the first time.Clone the repository:git clone [[https://github.com/ahmedaiwy/speech-keyboard.git)](https://github.com/ahmedaiwy/speech-keyboard.git)
cd speech-keyboard
Switch to the desired branch:# For the offline version:
git checkout main

# For the online version:
git checkout online-mode
Download and Place the Vosk Model:This is a critical step. The Vosk API requires a language model to function. The model is a large folder containing the necessary files.Go to the official Vosk Models website: https://alphacephei.com/vosk/modelsFind a small, lightweight model to start with, such as the vosk-model-en-us-0.22 for English.Download the compressed file (it will be a .zip or .tar.gz file).Extract the downloaded file. This will give you a single folder (e.g., vosk-model-en-us-0.22).Place this extracted model folder in your project's root directory.The full path should look like this: /path/to/your/project/vosk-model-en-us-0.22.Note: The keyboard.cpp file contains a hardcoded path to the Vosk model. If you move the model folder, you will also need to update the VOSK_MODEL_PATH variable in keyboard.cpp to reflect the new location.Build the project with CMake:cmake .
make
Current Status and Known IssuesThis project is currently a prototype and has a few known compilation issues that prevent it from running. The primary errors are related to missing members in the Keyboard class, such as signal_upper() and m_fn_key_map, which are called from keyboardbutton.cpp. We believe these are solvable with minor code changes.ContributionsWe would greatly appreciate any contributions to help get this project to a working state. Whether you want to debug the existing code, add new features, or just provide feedback, all help is welcome.Feel free to open a new Issue to discuss a problem or create a Pull Request with your proposed changes.LicenseThis project is licensed under the MIT License.
